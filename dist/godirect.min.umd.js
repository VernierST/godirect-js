/**
 * Copyright (c) 2023 Vernier Software. All rights reserved.
 * This code may only be used under the BSD 3-Clause license found at
 * https://raw.githubusercontent.com/VernierST/godirect-js/main/LICENSE
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).godirect=e()}(this,(function(){"use strict";function t(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=e.apply(r,n);function u(e){t(a,o,i,u,c,"next",e)}function c(e){t(a,o,i,u,c,"throw",e)}u(void 0)}))}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=a(t);if(e){var o=a(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function f(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v={exports:{}},d=function(t){return t&&t.Math==Math&&t},y=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof p&&p)||function(){return this}()||Function("return this")(),g=function(t){try{return!!t()}catch(t){return!0}},m=!g((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),b=m,w=Function.prototype,x=w.apply,S=w.call,k="object"==typeof Reflect&&Reflect.apply||(b?S.bind(x):function(){return S.apply(x,arguments)}),E=m,_=Function.prototype,O=_.bind,A=_.call,j=E&&O.bind(A,A),P=E?function(t){return t&&j(t)}:function(t){return t&&function(){return A.apply(t,arguments)}},T=function(t){return"function"==typeof t},M={},L=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),R=m,I=Function.prototype.call,C=R?I.bind(I):function(){return I.apply(I,arguments)},U={},D={}.propertyIsEnumerable,N=Object.getOwnPropertyDescriptor,F=N&&!D.call({1:2},1);U.f=F?function(t){var e=N(this,t);return!!e&&e.enumerable}:D;var G,V,z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},W=P,B=W({}.toString),Q=W("".slice),H=function(t){return Q(B(t),8,-1)},q=P,K=g,Y=H,J=y.Object,X=q("".split),$=K((function(){return!J("z").propertyIsEnumerable(0)}))?function(t){return"String"==Y(t)?X(t,""):J(t)}:J,Z=y.TypeError,tt=function(t){if(null==t)throw Z("Can't call method on "+t);return t},et=$,rt=tt,nt=function(t){return et(rt(t))},ot=T,it=function(t){return"object"==typeof t?null!==t:ot(t)},at={},ut=at,ct=y,st=T,ft=function(t){return st(t)?t:void 0},lt=function(t,e){return arguments.length<2?ft(ut[t])||ft(ct[t]):ut[t]&&ut[t][e]||ct[t]&&ct[t][e]},pt=P({}.isPrototypeOf),ht=lt("navigator","userAgent")||"",vt=y,dt=ht,yt=vt.process,gt=vt.Deno,mt=yt&&yt.versions||gt&&gt.version,bt=mt&&mt.v8;bt&&(V=(G=bt.split("."))[0]>0&&G[0]<4?1:+(G[0]+G[1])),!V&&dt&&(!(G=dt.match(/Edge\/(\d+)/))||G[1]>=74)&&(G=dt.match(/Chrome\/(\d+)/))&&(V=+G[1]);var wt=V,xt=wt,St=g,kt=!!Object.getOwnPropertySymbols&&!St((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&xt&&xt<41})),Et=kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_t=lt,Ot=T,At=pt,jt=Et,Pt=y.Object,Tt=jt?function(t){return"symbol"==typeof t}:function(t){var e=_t("Symbol");return Ot(e)&&At(e.prototype,Pt(t))},Mt=y.String,Lt=function(t){try{return Mt(t)}catch(t){return"Object"}},Rt=T,It=Lt,Ct=y.TypeError,Ut=function(t){if(Rt(t))return t;throw Ct(It(t)+" is not a function")},Dt=Ut,Nt=function(t,e){var r=t[e];return null==r?void 0:Dt(r)},Ft=C,Gt=T,Vt=it,zt=y.TypeError,Wt={exports:{}},Bt=y,Qt=Object.defineProperty,Ht=function(t,e){try{Qt(Bt,t,{value:e,configurable:!0,writable:!0})}catch(r){Bt[t]=e}return e},qt="__core-js_shared__",Kt=y[qt]||Ht(qt,{}),Yt=Kt;(Wt.exports=function(t,e){return Yt[t]||(Yt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.0",mode:"pure",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Jt=tt,Xt=y.Object,$t=function(t){return Xt(Jt(t))},Zt=$t,te=P({}.hasOwnProperty),ee=Object.hasOwn||function(t,e){return te(Zt(t),e)},re=P,ne=0,oe=Math.random(),ie=re(1..toString),ae=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ie(++ne+oe,36)},ue=y,ce=Wt.exports,se=ee,fe=ae,le=kt,pe=Et,he=ce("wks"),ve=ue.Symbol,de=ve&&ve.for,ye=pe?ve:ve&&ve.withoutSetter||fe,ge=function(t){if(!se(he,t)||!le&&"string"!=typeof he[t]){var e="Symbol."+t;le&&se(ve,t)?he[t]=ve[t]:he[t]=pe&&de?de(e):ye(e)}return he[t]},me=C,be=it,we=Tt,xe=Nt,Se=function(t,e){var r,n;if("string"===e&&Gt(r=t.toString)&&!Vt(n=Ft(r,t)))return n;if(Gt(r=t.valueOf)&&!Vt(n=Ft(r,t)))return n;if("string"!==e&&Gt(r=t.toString)&&!Vt(n=Ft(r,t)))return n;throw zt("Can't convert object to primitive value")},ke=ge,Ee=y.TypeError,_e=ke("toPrimitive"),Oe=function(t,e){if(!be(t)||we(t))return t;var r,n=xe(t,_e);if(n){if(void 0===e&&(e="default"),r=me(n,t,e),!be(r)||we(r))return r;throw Ee("Can't convert object to primitive value")}return void 0===e&&(e="number"),Se(t,e)},Ae=Tt,je=function(t){var e=Oe(t,"string");return Ae(e)?e:e+""},Pe=it,Te=y.document,Me=Pe(Te)&&Pe(Te.createElement),Le=function(t){return Me?Te.createElement(t):{}},Re=Le,Ie=!L&&!g((function(){return 7!=Object.defineProperty(Re("div"),"a",{get:function(){return 7}}).a})),Ce=L,Ue=C,De=U,Ne=z,Fe=nt,Ge=je,Ve=ee,ze=Ie,We=Object.getOwnPropertyDescriptor;M.f=Ce?We:function(t,e){if(t=Fe(t),e=Ge(e),ze)try{return We(t,e)}catch(t){}if(Ve(t,e))return Ne(!Ue(De.f,t,e),t[e])};var Be=g,Qe=T,He=/#|\.prototype\./,qe=function(t,e){var r=Ye[Ke(t)];return r==Xe||r!=Je&&(Qe(e)?Be(e):!!e)},Ke=qe.normalize=function(t){return String(t).replace(He,".").toLowerCase()},Ye=qe.data={},Je=qe.NATIVE="N",Xe=qe.POLYFILL="P",$e=qe,Ze=Ut,tr=m,er=P(P.bind),rr=function(t,e){return Ze(t),void 0===e?t:tr?er(t,e):function(){return t.apply(e,arguments)}},nr={},or=L&&g((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ir=y,ar=it,ur=ir.String,cr=ir.TypeError,sr=function(t){if(ar(t))return t;throw cr(ur(t)+" is not an object")},fr=L,lr=Ie,pr=or,hr=sr,vr=je,dr=y.TypeError,yr=Object.defineProperty,gr=Object.getOwnPropertyDescriptor,mr="enumerable",br="configurable",wr="writable";nr.f=fr?pr?function(t,e,r){if(hr(t),e=vr(e),hr(r),"function"==typeof t&&"prototype"===e&&"value"in r&&wr in r&&!r.writable){var n=gr(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:br in r?r.configurable:n.configurable,enumerable:mr in r?r.enumerable:n.enumerable,writable:!1})}return yr(t,e,r)}:yr:function(t,e,r){if(hr(t),e=vr(e),hr(r),lr)try{return yr(t,e,r)}catch(t){}if("get"in r||"set"in r)throw dr("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var xr=nr,Sr=z,kr=L?function(t,e,r){return xr.f(t,e,Sr(1,r))}:function(t,e,r){return t[e]=r,t},Er=y,_r=k,Or=P,Ar=T,jr=M.f,Pr=$e,Tr=at,Mr=rr,Lr=kr,Rr=ee,Ir=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return _r(t,this,arguments)};return e.prototype=t.prototype,e},Cr=function(t,e){var r,n,o,i,a,u,c,s,f=t.target,l=t.global,p=t.stat,h=t.proto,v=l?Er:p?Er[f]:(Er[f]||{}).prototype,d=l?Tr:Tr[f]||Lr(Tr,f,{})[f],y=d.prototype;for(o in e)r=!Pr(l?o:f+(p?".":"#")+o,t.forced)&&v&&Rr(v,o),a=d[o],r&&(u=t.noTargetGet?(s=jr(v,o))&&s.value:v[o]),i=r&&u?u:e[o],r&&typeof a==typeof i||(c=t.bind&&r?Mr(i,Er):t.wrap&&r?Ir(i):h&&Ar(i)?Or(i):i,(t.sham||i&&i.sham||a&&a.sham)&&Lr(c,"sham",!0),Lr(d,o,c),h&&(Rr(Tr,n=f+"Prototype")||Lr(Tr,n,{}),Lr(Tr[n],o,i),t.real&&y&&!y[o]&&Lr(y,o,i)))},Ur=Wt.exports,Dr=ae,Nr=Ur("keys"),Fr=function(t){return Nr[t]||(Nr[t]=Dr(t))},Gr=!g((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Vr=y,zr=ee,Wr=T,Br=$t,Qr=Gr,Hr=Fr("IE_PROTO"),qr=Vr.Object,Kr=qr.prototype,Yr=Qr?qr.getPrototypeOf:function(t){var e=Br(t);if(zr(e,Hr))return e[Hr];var r=e.constructor;return Wr(r)&&e instanceof r?r.prototype:e instanceof qr?Kr:null},Jr=y,Xr=T,$r=Jr.String,Zr=Jr.TypeError,tn=P,en=sr,rn=function(t){if("object"==typeof t||Xr(t))return t;throw Zr("Can't set "+$r(t)+" as a prototype")},nn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=tn(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return en(r),rn(n),e?t(r,n):r.__proto__=n,r}}():void 0),on={},an=Math.ceil,un=Math.floor,cn=function(t){var e=+t;return e!=e||0===e?0:(e>0?un:an)(e)},sn=cn,fn=Math.max,ln=Math.min,pn=function(t,e){var r=sn(t);return r<0?fn(r+e,0):ln(r,e)},hn=cn,vn=Math.min,dn=function(t){return t>0?vn(hn(t),9007199254740991):0},yn=dn,gn=function(t){return yn(t.length)},mn=nt,bn=pn,wn=gn,xn=function(t){return function(e,r,n){var o,i=mn(e),a=wn(i),u=bn(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},Sn={includes:xn(!0),indexOf:xn(!1)},kn={},En=ee,_n=nt,On=Sn.indexOf,An=kn,jn=P([].push),Pn=function(t,e){var r,n=_n(t),o=0,i=[];for(r in n)!En(An,r)&&En(n,r)&&jn(i,r);for(;e.length>o;)En(n,r=e[o++])&&(~On(i,r)||jn(i,r));return i},Tn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Mn=Pn,Ln=Tn.concat("length","prototype");on.f=Object.getOwnPropertyNames||function(t){return Mn(t,Ln)};var Rn={};Rn.f=Object.getOwnPropertySymbols;var In=lt,Cn=on,Un=Rn,Dn=sr,Nn=P([].concat),Fn=In("Reflect","ownKeys")||function(t){var e=Cn.f(Dn(t)),r=Un.f;return r?Nn(e,r(t)):e},Gn=ee,Vn=Fn,zn=M,Wn=nr,Bn={},Qn=Pn,Hn=Tn,qn=Object.keys||function(t){return Qn(t,Hn)},Kn=L,Yn=or,Jn=nr,Xn=sr,$n=nt,Zn=qn;Bn.f=Kn&&!Yn?Object.defineProperties:function(t,e){Xn(t);for(var r,n=$n(e),o=Zn(e),i=o.length,a=0;i>a;)Jn.f(t,r=o[a++],n[r]);return t};var to,eo=lt("document","documentElement"),ro=sr,no=Bn,oo=Tn,io=kn,ao=eo,uo=Le,co=Fr("IE_PROTO"),so=function(){},fo=function(t){return"<script>"+t+"</"+"script>"},lo=function(t){t.write(fo("")),t.close();var e=t.parentWindow.Object;return t=null,e},po=function(){try{to=new ActiveXObject("htmlfile")}catch(t){}var t,e;po="undefined"!=typeof document?document.domain&&to?lo(to):((e=uo("iframe")).style.display="none",ao.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(fo("document.F=Object")),t.close(),t.F):lo(to);for(var r=oo.length;r--;)delete po.prototype[oo[r]];return po()};io[co]=!0;var ho=Object.create||function(t,e){var r;return null!==t?(so.prototype=ro(t),r=new so,so.prototype=null,r[co]=t):r=po(),void 0===e?r:no.f(r,e)},vo=P("".replace),yo=String(Error("zxcasd").stack),go=/\n\s*at [^:]*:[^\n]*/,mo=go.test(yo),bo=it,wo=kr,xo={},So=xo,ko=ge("iterator"),Eo=Array.prototype,_o=function(t){return void 0!==t&&(So.Array===t||Eo[ko]===t)},Oo={};Oo[ge("toStringTag")]="z";var Ao="[object z]"===String(Oo),jo=y,Po=Ao,To=T,Mo=H,Lo=ge("toStringTag"),Ro=jo.Object,Io="Arguments"==Mo(function(){return arguments}()),Co=Po?Mo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Ro(t),Lo))?r:Io?Mo(e):"Object"==(n=Mo(e))&&To(e.callee)?"Arguments":n},Uo=Co,Do=Nt,No=xo,Fo=ge("iterator"),Go=function(t){if(null!=t)return Do(t,Fo)||Do(t,"@@iterator")||No[Uo(t)]},Vo=C,zo=Ut,Wo=sr,Bo=Lt,Qo=Go,Ho=y.TypeError,qo=function(t,e){var r=arguments.length<2?Qo(t):e;if(zo(r))return Wo(Vo(r,t));throw Ho(Bo(t)+" is not iterable")},Ko=C,Yo=sr,Jo=Nt,Xo=function(t,e,r){var n,o;Yo(t);try{if(!(n=Jo(t,"return"))){if("throw"===e)throw r;return r}n=Ko(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Yo(n),r},$o=rr,Zo=C,ti=sr,ei=Lt,ri=_o,ni=gn,oi=pt,ii=qo,ai=Go,ui=Xo,ci=y.TypeError,si=function(t,e){this.stopped=t,this.result=e},fi=si.prototype,li=function(t,e,r){var n,o,i,a,u,c,s,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),v=$o(e,f),d=function(t){return n&&ui(n,"normal",t),new si(!0,t)},y=function(t){return l?(ti(t),h?v(t[0],t[1],d):v(t[0],t[1])):h?v(t,d):v(t)};if(p)n=t;else{if(!(o=ai(t)))throw ci(ei(t)+" is not iterable");if(ri(o)){for(i=0,a=ni(t);a>i;i++)if((u=y(t[i]))&&oi(fi,u))return u;return new si(!1)}n=ii(t,o)}for(c=n.next;!(s=Zo(c,n)).done;){try{u=y(s.value)}catch(t){ui(n,"throw",t)}if("object"==typeof u&&u&&oi(fi,u))return u}return new si(!1)},pi=Co,hi=y.String,vi=function(t){if("Symbol"===pi(t))throw TypeError("Cannot convert a Symbol value to a string");return hi(t)},di=vi,yi=z,gi=!g((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",yi(1,7)),7!==t.stack)})),mi=Cr,bi=y,wi=pt,xi=Yr,Si=nn,ki=function(t,e,r){for(var n=Vn(e),o=Wn.f,i=zn.f,a=0;a<n.length;a++){var u=n[a];Gn(t,u)||r&&Gn(r,u)||o(t,u,i(e,u))}},Ei=ho,_i=kr,Oi=z,Ai=function(t,e){if(mo&&"string"==typeof t)for(;e--;)t=vo(t,go,"");return t},ji=function(t,e){bo(e)&&"cause"in e&&wo(t,"cause",e.cause)},Pi=li,Ti=function(t,e){return void 0===t?arguments.length<2?"":e:di(t)},Mi=gi,Li=ge("toStringTag"),Ri=bi.Error,Ii=[].push,Ci=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,o=wi(Ui,this);Si?r=Si(new Ri,o?xi(this):Ui):(r=o?this:Ei(Ui),_i(r,Li,"Error")),void 0!==e&&_i(r,"message",Ti(e)),Mi&&_i(r,"stack",Ai(r.stack,1)),ji(r,n);var i=[];return Pi(t,Ii,{that:i}),_i(r,"errors",i),r};Si?Si(Ci,Ri):ki(Ci,Ri,{name:!0});var Ui=Ci.prototype=Ei(Ri.prototype,{constructor:Oi(1,Ci),message:Oi(1,""),name:Oi(1,"AggregateError")});mi({global:!0},{AggregateError:Ci});var Di=T,Ni=Kt,Fi=P(Function.toString);Di(Ni.inspectSource)||(Ni.inspectSource=function(t){return Fi(t)});var Gi,Vi,zi,Wi=Ni.inspectSource,Bi=T,Qi=Wi,Hi=y.WeakMap,qi=Bi(Hi)&&/native code/.test(Qi(Hi)),Ki=y,Yi=P,Ji=it,Xi=kr,$i=ee,Zi=Kt,ta=Fr,ea=kn,ra="Object already initialized",na=Ki.TypeError,oa=Ki.WeakMap;if(qi||Zi.state){var ia=Zi.state||(Zi.state=new oa),aa=Yi(ia.get),ua=Yi(ia.has),ca=Yi(ia.set);Gi=function(t,e){if(ua(ia,t))throw new na(ra);return e.facade=t,ca(ia,t,e),e},Vi=function(t){return aa(ia,t)||{}},zi=function(t){return ua(ia,t)}}else{var sa=ta("state");ea[sa]=!0,Gi=function(t,e){if($i(t,sa))throw new na(ra);return e.facade=t,Xi(t,sa,e),e},Vi=function(t){return $i(t,sa)?t[sa]:{}},zi=function(t){return $i(t,sa)}}var fa,la,pa,ha={set:Gi,get:Vi,has:zi,enforce:function(t){return zi(t)?Vi(t):Gi(t,{})},getterFor:function(t){return function(e){var r;if(!Ji(e)||(r=Vi(e)).type!==t)throw na("Incompatible receiver, "+t+" required");return r}}},va=L,da=ee,ya=Function.prototype,ga=va&&Object.getOwnPropertyDescriptor,ma=da(ya,"name"),ba={EXISTS:ma,PROPER:ma&&"something"===function(){}.name,CONFIGURABLE:ma&&(!va||va&&ga(ya,"name").configurable)},wa=kr,xa=function(t,e,r,n){n&&n.enumerable?t[e]=r:wa(t,e,r)},Sa=g,ka=T,Ea=ho,_a=Yr,Oa=xa,Aa=ge("iterator"),ja=!1;[].keys&&("next"in(pa=[].keys())?(la=_a(_a(pa)))!==Object.prototype&&(fa=la):ja=!0);var Pa=null==fa||Sa((function(){var t={};return fa[Aa].call(t)!==t}));ka((fa=Pa?{}:Ea(fa))[Aa])||Oa(fa,Aa,(function(){return this}));var Ta={IteratorPrototype:fa,BUGGY_SAFARI_ITERATORS:ja},Ma=Co,La=Ao?{}.toString:function(){return"[object "+Ma(this)+"]"},Ra=Ao,Ia=nr.f,Ca=kr,Ua=ee,Da=La,Na=ge("toStringTag"),Fa=function(t,e,r,n){if(t){var o=r?t:t.prototype;Ua(o,Na)||Ia(o,Na,{configurable:!0,value:e}),n&&!Ra&&Ca(o,"toString",Da)}},Ga=Ta.IteratorPrototype,Va=ho,za=z,Wa=Fa,Ba=xo,Qa=function(){return this},Ha=Cr,qa=C,Ka=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Va(Ga,{next:za(+!n,r)}),Wa(t,o,!1,!0),Ba[o]=Qa,t},Ya=Yr,Ja=Fa,Xa=xa,$a=xo,Za=ba.PROPER,tu=Ta.BUGGY_SAFARI_ITERATORS,eu=ge("iterator"),ru="keys",nu="values",ou="entries",iu=function(){return this},au=function(t,e,r,n,o,i,a){Ka(r,e,n);var u,c,s,f=function(t){if(t===o&&d)return d;if(!tu&&t in h)return h[t];switch(t){case ru:case nu:case ou:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,h=t.prototype,v=h[eu]||h["@@iterator"]||o&&h[o],d=!tu&&v||f(o),y="Array"==e&&h.entries||v;if(y&&(u=Ya(y.call(new t)))!==Object.prototype&&u.next&&(Ja(u,l,!0,!0),$a[l]=iu),Za&&o==nu&&v&&v.name!==nu&&(p=!0,d=function(){return qa(v,this)}),o)if(c={values:f(nu),keys:i?d:f(ru),entries:f(ou)},a)for(s in c)(tu||p||!(s in h))&&Xa(h,s,c[s]);else Ha({target:e,proto:!0,forced:tu||p},c);return a&&h[eu]!==d&&Xa(h,eu,d,{name:o}),$a[e]=d,c},uu=nt,cu=xo,su=ha;nr.f;var fu=au,lu="Array Iterator",pu=su.set,hu=su.getterFor(lu);fu(Array,"Array",(function(t,e){pu(this,{type:lu,target:uu(t),index:0,kind:e})}),(function(){var t=hu(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),cu.Arguments=cu.Array;var vu=y.Promise,du=xa,yu=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:du(t,n,e[n],r);return t},gu=lt,mu=nr,bu=L,wu=ge("species"),xu=function(t){var e=gu(t),r=mu.f;bu&&e&&!e[wu]&&r(e,wu,{configurable:!0,get:function(){return this}})},Su=pt,ku=y.TypeError,Eu=function(t,e){if(Su(e,t))return t;throw ku("Incorrect invocation")},_u=ge("iterator"),Ou=!1;try{var Au=0,ju={next:function(){return{done:!!Au++}},return:function(){Ou=!0}};ju[_u]=function(){return this},Array.from(ju,(function(){throw 2}))}catch(t){}var Pu=function(t,e){if(!e&&!Ou)return!1;var r=!1;try{var n={};n[_u]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Tu=P,Mu=g,Lu=T,Ru=Co,Iu=Wi,Cu=function(){},Uu=[],Du=lt("Reflect","construct"),Nu=/^\s*(?:class|function)\b/,Fu=Tu(Nu.exec),Gu=!Nu.exec(Cu),Vu=function(t){if(!Lu(t))return!1;try{return Du(Cu,Uu,t),!0}catch(t){return!1}},zu=function(t){if(!Lu(t))return!1;switch(Ru(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Gu||!!Fu(Nu,Iu(t))}catch(t){return!0}};zu.sham=!0;var Wu,Bu,Qu,Hu,qu=!Du||Mu((function(){var t;return Vu(Vu.call)||!Vu(Object)||!Vu((function(){t=!0}))||t}))?zu:Vu,Ku=qu,Yu=Lt,Ju=y.TypeError,Xu=sr,$u=function(t){if(Ku(t))return t;throw Ju(Yu(t)+" is not a constructor")},Zu=ge("species"),tc=function(t,e){var r,n=Xu(t).constructor;return void 0===n||null==(r=Xu(n)[Zu])?e:$u(r)},ec=P([].slice),rc=y.TypeError,nc=function(t,e){if(t<e)throw rc("Not enough arguments");return t},oc=/(?:ipad|iphone|ipod).*applewebkit/i.test(ht),ic="process"==H(y.process),ac=y,uc=k,cc=rr,sc=T,fc=ee,lc=g,pc=eo,hc=ec,vc=Le,dc=nc,yc=oc,gc=ic,mc=ac.setImmediate,bc=ac.clearImmediate,wc=ac.process,xc=ac.Dispatch,Sc=ac.Function,kc=ac.MessageChannel,Ec=ac.String,_c=0,Oc={},Ac="onreadystatechange";try{Wu=ac.location}catch(t){}var jc=function(t){if(fc(Oc,t)){var e=Oc[t];delete Oc[t],e()}},Pc=function(t){return function(){jc(t)}},Tc=function(t){jc(t.data)},Mc=function(t){ac.postMessage(Ec(t),Wu.protocol+"//"+Wu.host)};mc&&bc||(mc=function(t){dc(arguments.length,1);var e=sc(t)?t:Sc(t),r=hc(arguments,1);return Oc[++_c]=function(){uc(e,void 0,r)},Bu(_c),_c},bc=function(t){delete Oc[t]},gc?Bu=function(t){wc.nextTick(Pc(t))}:xc&&xc.now?Bu=function(t){xc.now(Pc(t))}:kc&&!yc?(Hu=(Qu=new kc).port2,Qu.port1.onmessage=Tc,Bu=cc(Hu.postMessage,Hu)):ac.addEventListener&&sc(ac.postMessage)&&!ac.importScripts&&Wu&&"file:"!==Wu.protocol&&!lc(Mc)?(Bu=Mc,ac.addEventListener("message",Tc,!1)):Bu=Ac in vc("script")?function(t){pc.appendChild(vc("script")).onreadystatechange=function(){pc.removeChild(this),jc(t)}}:function(t){setTimeout(Pc(t),0)});var Lc,Rc,Ic,Cc,Uc,Dc,Nc,Fc,Gc={set:mc,clear:bc},Vc=y,zc=/ipad|iphone|ipod/i.test(ht)&&void 0!==Vc.Pebble,Wc=/web0s(?!.*chrome)/i.test(ht),Bc=y,Qc=rr,Hc=M.f,qc=Gc.set,Kc=oc,Yc=zc,Jc=Wc,Xc=ic,$c=Bc.MutationObserver||Bc.WebKitMutationObserver,Zc=Bc.document,ts=Bc.process,es=Bc.Promise,rs=Hc(Bc,"queueMicrotask"),ns=rs&&rs.value;ns||(Lc=function(){var t,e;for(Xc&&(t=ts.domain)&&t.exit();Rc;){e=Rc.fn,Rc=Rc.next;try{e()}catch(t){throw Rc?Cc():Ic=void 0,t}}Ic=void 0,t&&t.enter()},Kc||Xc||Jc||!$c||!Zc?!Yc&&es&&es.resolve?((Nc=es.resolve(void 0)).constructor=es,Fc=Qc(Nc.then,Nc),Cc=function(){Fc(Lc)}):Xc?Cc=function(){ts.nextTick(Lc)}:(qc=Qc(qc,Bc),Cc=function(){qc(Lc)}):(Uc=!0,Dc=Zc.createTextNode(""),new $c(Lc).observe(Dc,{characterData:!0}),Cc=function(){Dc.data=Uc=!Uc}));var os=ns||function(t){var e={fn:t,next:void 0};Ic&&(Ic.next=e),Rc||(Rc=e,Cc()),Ic=e},is={},as=Ut,us=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=as(e),this.reject=as(r)};is.f=function(t){return new us(t)};var cs=sr,ss=it,fs=is,ls=function(t,e){if(cs(t),ss(e)&&e.constructor===t)return e;var r=fs.f(t);return(0,r.resolve)(e),r.promise},ps=y,hs=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},vs=function(){this.head=null,this.tail=null};vs.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var ds,ys,gs,ms="object"==typeof window,bs=Cr,ws=y,xs=lt,Ss=C,ks=vu,Es=yu,_s=Fa,Os=xu,As=Ut,js=T,Ps=it,Ts=Eu,Ms=Wi,Ls=li,Rs=Pu,Is=tc,Cs=Gc.set,Us=os,Ds=ls,Ns=function(t,e){var r=ps.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))},Fs=is,Gs=hs,Vs=vs,zs=ha,Ws=$e,Bs=ms,Qs=ic,Hs=wt,qs=ge("species"),Ks="Promise",Ys=zs.getterFor(Ks),Js=zs.set,Xs=zs.getterFor(Ks),$s=ks&&ks.prototype,Zs=ks,tf=$s,ef=ws.TypeError,rf=ws.document,nf=ws.process,of=Fs.f,af=of,uf=!!(rf&&rf.createEvent&&ws.dispatchEvent),cf=js(ws.PromiseRejectionEvent),sf="unhandledrejection",ff=Ws(Ks,(function(){var t=Ms(Zs),e=t!==String(Zs);if(!e&&66===Hs)return!0;if(!tf.finally)return!0;if(Hs>=51&&/native code/.test(t))return!1;var r=new Zs((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[qs]=n,!(r.then((function(){}))instanceof n)||!e&&Bs&&!cf})),lf=ff||!Rs((function(t){Zs.all(t).catch((function(){}))})),pf=function(t){var e;return!(!Ps(t)||!js(e=t.then))&&e},hf=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&mf(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?s(ef("Promise-chain cycle")):(n=pf(r))?Ss(n,r,c,s):c(r)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},vf=function(t,e){t.notified||(t.notified=!0,Us((function(){for(var r,n=t.reactions;r=n.get();)hf(r,t);t.notified=!1,e&&!t.rejection&&yf(t)})))},df=function(t,e,r){var n,o;uf?((n=rf.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),ws.dispatchEvent(n)):n={promise:e,reason:r},!cf&&(o=ws["on"+t])?o(n):t===sf&&Ns("Unhandled promise rejection",r)},yf=function(t){Ss(Cs,ws,(function(){var e,r=t.facade,n=t.value;if(gf(t)&&(e=Gs((function(){Qs?nf.emit("unhandledRejection",n,r):df(sf,r,n)})),t.rejection=Qs||gf(t)?2:1,e.error))throw e.value}))},gf=function(t){return 1!==t.rejection&&!t.parent},mf=function(t){Ss(Cs,ws,(function(){var e=t.facade;Qs?nf.emit("rejectionHandled",e):df("rejectionhandled",e,t.value)}))},bf=function(t,e,r){return function(n){t(e,n,r)}},wf=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,vf(t,!0))},xf=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw ef("Promise can't be resolved itself");var n=pf(e);n?Us((function(){var r={done:!1};try{Ss(n,e,bf(xf,r,t),bf(wf,r,t))}catch(e){wf(r,e,t)}})):(t.value=e,t.state=1,vf(t,!1))}catch(e){wf({done:!1},e,t)}}};ff&&(tf=(Zs=function(t){Ts(this,tf),As(t),Ss(ds,this);var e=Ys(this);try{t(bf(xf,e),bf(wf,e))}catch(t){wf(e,t)}}).prototype,(ds=function(t){Js(this,{type:Ks,done:!1,notified:!1,parent:!1,reactions:new Vs,rejection:!1,state:0,value:void 0})}).prototype=Es(tf,{then:function(t,e){var r=Xs(this),n=of(Is(this,Zs));return r.parent=!0,n.ok=!js(t)||t,n.fail=js(e)&&e,n.domain=Qs?nf.domain:void 0,0==r.state?r.reactions.add(n):Us((function(){hf(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),ys=function(){var t=new ds,e=Ys(t);this.promise=t,this.resolve=bf(xf,e),this.reject=bf(wf,e)},Fs.f=of=function(t){return t===Zs||t===gs?new ys(t):af(t)}),bs({global:!0,wrap:!0,forced:ff},{Promise:Zs}),_s(Zs,Ks,!1,!0),Os(Ks),gs=xs(Ks),bs({target:Ks,stat:!0,forced:ff},{reject:function(t){var e=of(this);return Ss(e.reject,void 0,t),e.promise}}),bs({target:Ks,stat:!0,forced:true},{resolve:function(t){return Ds(this===gs?Zs:this,t)}}),bs({target:Ks,stat:!0,forced:lf},{all:function(t){var e=this,r=of(e),n=r.resolve,o=r.reject,i=Gs((function(){var r=As(e.resolve),i=[],a=0,u=1;Ls(t,(function(t){var c=a++,s=!1;u++,Ss(r,e,t).then((function(t){s||(s=!0,i[c]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=of(e),n=r.reject,o=Gs((function(){var o=As(e.resolve);Ls(t,(function(t){Ss(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var Sf=C,kf=Ut,Ef=is,_f=hs,Of=li;Cr({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=Ef.f(e),n=r.resolve,o=r.reject,i=_f((function(){var r=kf(e.resolve),o=[],i=0,a=1;Of(t,(function(t){var u=i++,c=!1;a++,Sf(r,e,t).then((function(t){c||(c=!0,o[u]={status:"fulfilled",value:t},--a||n(o))}),(function(t){c||(c=!0,o[u]={status:"rejected",reason:t},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var Af=Ut,jf=lt,Pf=C,Tf=is,Mf=hs,Lf=li,Rf="No one promise resolved";Cr({target:"Promise",stat:!0},{any:function(t){var e=this,r=jf("AggregateError"),n=Tf.f(e),o=n.resolve,i=n.reject,a=Mf((function(){var n=Af(e.resolve),a=[],u=0,c=1,s=!1;Lf(t,(function(t){var f=u++,l=!1;c++,Pf(n,e,t).then((function(t){l||s||(s=!0,o(t))}),(function(t){l||s||(l=!0,a[f]=t,--c||i(new r(a,Rf)))}))})),--c||i(new r(a,Rf))}));return a.error&&i(a.value),n.promise}});var If=vu,Cf=lt,Uf=T,Df=tc,Nf=ls;Cr({target:"Promise",proto:!0,real:!0,forced:!!If&&g((function(){If.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Df(this,Cf("Promise")),r=Uf(t);return this.then(r?function(r){return Nf(e,t()).then((function(){return r}))}:t,r?function(r){return Nf(e,t()).then((function(){throw r}))}:t)}});var Ff=P,Gf=cn,Vf=vi,zf=tt,Wf=Ff("".charAt),Bf=Ff("".charCodeAt),Qf=Ff("".slice),Hf=function(t){return function(e,r){var n,o,i=Vf(zf(e)),a=Gf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=Bf(i,a))<55296||n>56319||a+1===u||(o=Bf(i,a+1))<56320||o>57343?t?Wf(i,a):n:t?Qf(i,a,a+2):o-56320+(n-55296<<10)+65536}},qf={codeAt:Hf(!1),charAt:Hf(!0)}.charAt,Kf=vi,Yf=ha,Jf=au,Xf="String Iterator",$f=Yf.set,Zf=Yf.getterFor(Xf);Jf(String,"String",(function(t){$f(this,{type:Xf,string:Kf(t),index:0})}),(function(){var t,e=Zf(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=qf(r,n),e.index+=t.length,{value:t,done:!1})}));var tl=at.Promise,el={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},rl=y,nl=Co,ol=kr,il=xo,al=ge("toStringTag");for(var ul in el){var cl=rl[ul],sl=cl&&cl.prototype;sl&&nl(sl)!==al&&ol(sl,al,ul),il[ul]=il.Array}var fl=tl;!function(t){t.exports=fl}(v);var ll=h(v.exports),pl={exports:{}},hl={exports:{}},vl={exports:{}},dl=H,yl=Array.isArray||function(t){return"Array"==dl(t)},gl=je,ml=nr,bl=z,wl=function(t,e,r){var n=gl(e);n in t?ml.f(t,n,bl(0,r)):t[n]=r},xl=y,Sl=yl,kl=qu,El=it,_l=ge("species"),Ol=xl.Array,Al=function(t){var e;return Sl(t)&&(e=t.constructor,(kl(e)&&(e===Ol||Sl(e.prototype))||El(e)&&null===(e=e[_l]))&&(e=void 0)),void 0===e?Ol:e},jl=function(t,e){return new(Al(t))(0===e?0:e)},Pl=g,Tl=wt,Ml=ge("species"),Ll=function(t){return Tl>=51||!Pl((function(){var e=[];return(e.constructor={})[Ml]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Rl=Cr,Il=y,Cl=g,Ul=yl,Dl=it,Nl=$t,Fl=gn,Gl=wl,Vl=jl,zl=Ll,Wl=wt,Bl=ge("isConcatSpreadable"),Ql=9007199254740991,Hl="Maximum allowed index exceeded",ql=Il.TypeError,Kl=Wl>=51||!Cl((function(){var t=[];return t[Bl]=!1,t.concat()[0]!==t})),Yl=zl("concat"),Jl=function(t){if(!Dl(t))return!1;var e=t[Bl];return void 0!==e?!!e:Ul(t)};Rl({target:"Array",proto:!0,forced:!Kl||!Yl},{concat:function(t){var e,r,n,o,i,a=Nl(this),u=Vl(a,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Jl(i=-1===e?a:arguments[e])){if(c+(o=Fl(i))>Ql)throw ql(Hl);for(r=0;r<o;r++,c++)r in i&&Gl(u,c,i[r])}else{if(c>=Ql)throw ql(Hl);Gl(u,c++,i)}return u.length=c,u}});var Xl={},$l=pn,Zl=gn,tp=wl,ep=y.Array,rp=Math.max,np=H,op=nt,ip=on.f,ap=function(t,e,r){for(var n=Zl(t),o=$l(e,n),i=$l(void 0===r?n:r,n),a=ep(rp(i-o,0)),u=0;o<i;o++,u++)tp(a,u,t[o]);return a.length=u,a},up="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Xl.f=function(t){return up&&"Window"==np(t)?function(t){try{return ip(t)}catch(t){return ap(up)}}(t):ip(op(t))};var cp={},sp=ge;cp.f=sp;var fp=at,lp=ee,pp=cp,hp=nr.f,vp=function(t){var e=fp.Symbol||(fp.Symbol={});lp(e,t)||hp(e,t,{value:pp.f(t)})},dp=rr,yp=$,gp=$t,mp=gn,bp=jl,wp=P([].push),xp=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(c,s,f,l){for(var p,h,v=gp(c),d=yp(v),y=dp(s,f),g=mp(d),m=0,b=l||bp,w=e?b(c,g):r||a?b(c,0):void 0;g>m;m++)if((u||m in d)&&(h=y(p=d[m],m,v),t))if(e)w[m]=h;else if(h)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:wp(w,p)}else switch(t){case 4:return!1;case 7:wp(w,p)}return i?-1:n||o?o:w}},Sp={forEach:xp(0),map:xp(1),filter:xp(2),some:xp(3),every:xp(4),find:xp(5),findIndex:xp(6),filterReject:xp(7)},kp=Cr,Ep=y,_p=lt,Op=k,Ap=C,jp=P,Pp=L,Tp=kt,Mp=g,Lp=ee,Rp=yl,Ip=T,Cp=it,Up=pt,Dp=Tt,Np=sr,Fp=$t,Gp=nt,Vp=je,zp=vi,Wp=z,Bp=ho,Qp=qn,Hp=on,qp=Xl,Kp=Rn,Yp=M,Jp=nr,Xp=Bn,$p=U,Zp=ec,th=xa,eh=Wt.exports,rh=kn,nh=ae,oh=ge,ih=cp,ah=vp,uh=Fa,ch=ha,sh=Sp.forEach,fh=Fr("hidden"),lh="Symbol",ph=oh("toPrimitive"),hh=ch.set,vh=ch.getterFor(lh),dh=Object.prototype,yh=Ep.Symbol,gh=yh&&yh.prototype,mh=Ep.TypeError,bh=Ep.QObject,wh=_p("JSON","stringify"),xh=Yp.f,Sh=Jp.f,kh=qp.f,Eh=$p.f,_h=jp([].push),Oh=eh("symbols"),Ah=eh("op-symbols"),jh=eh("string-to-symbol-registry"),Ph=eh("symbol-to-string-registry"),Th=eh("wks"),Mh=!bh||!bh.prototype||!bh.prototype.findChild,Lh=Pp&&Mp((function(){return 7!=Bp(Sh({},"a",{get:function(){return Sh(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=xh(dh,e);n&&delete dh[e],Sh(t,e,r),n&&t!==dh&&Sh(dh,e,n)}:Sh,Rh=function(t,e){var r=Oh[t]=Bp(gh);return hh(r,{type:lh,tag:t,description:e}),Pp||(r.description=e),r},Ih=function(t,e,r){t===dh&&Ih(Ah,e,r),Np(t);var n=Vp(e);return Np(r),Lp(Oh,n)?(r.enumerable?(Lp(t,fh)&&t[fh][n]&&(t[fh][n]=!1),r=Bp(r,{enumerable:Wp(0,!1)})):(Lp(t,fh)||Sh(t,fh,Wp(1,{})),t[fh][n]=!0),Lh(t,n,r)):Sh(t,n,r)},Ch=function(t,e){Np(t);var r=Gp(e),n=Qp(r).concat(Fh(r));return sh(n,(function(e){Pp&&!Ap(Uh,r,e)||Ih(t,e,r[e])})),t},Uh=function(t){var e=Vp(t),r=Ap(Eh,this,e);return!(this===dh&&Lp(Oh,e)&&!Lp(Ah,e))&&(!(r||!Lp(this,e)||!Lp(Oh,e)||Lp(this,fh)&&this[fh][e])||r)},Dh=function(t,e){var r=Gp(t),n=Vp(e);if(r!==dh||!Lp(Oh,n)||Lp(Ah,n)){var o=xh(r,n);return!o||!Lp(Oh,n)||Lp(r,fh)&&r[fh][n]||(o.enumerable=!0),o}},Nh=function(t){var e=kh(Gp(t)),r=[];return sh(e,(function(t){Lp(Oh,t)||Lp(rh,t)||_h(r,t)})),r},Fh=function(t){var e=t===dh,r=kh(e?Ah:Gp(t)),n=[];return sh(r,(function(t){!Lp(Oh,t)||e&&!Lp(dh,t)||_h(n,Oh[t])})),n};if(Tp||(yh=function(){if(Up(gh,this))throw mh("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?zp(arguments[0]):void 0,e=nh(t),r=function(t){this===dh&&Ap(r,Ah,t),Lp(this,fh)&&Lp(this[fh],e)&&(this[fh][e]=!1),Lh(this,e,Wp(1,t))};return Pp&&Mh&&Lh(dh,e,{configurable:!0,set:r}),Rh(e,t)},th(gh=yh.prototype,"toString",(function(){return vh(this).tag})),th(yh,"withoutSetter",(function(t){return Rh(nh(t),t)})),$p.f=Uh,Jp.f=Ih,Xp.f=Ch,Yp.f=Dh,Hp.f=qp.f=Nh,Kp.f=Fh,ih.f=function(t){return Rh(oh(t),t)},Pp&&Sh(gh,"description",{configurable:!0,get:function(){return vh(this).description}})),kp({global:!0,wrap:!0,forced:!Tp,sham:!Tp},{Symbol:yh}),sh(Qp(Th),(function(t){ah(t)})),kp({target:lh,stat:!0,forced:!Tp},{for:function(t){var e=zp(t);if(Lp(jh,e))return jh[e];var r=yh(e);return jh[e]=r,Ph[r]=e,r},keyFor:function(t){if(!Dp(t))throw mh(t+" is not a symbol");if(Lp(Ph,t))return Ph[t]},useSetter:function(){Mh=!0},useSimple:function(){Mh=!1}}),kp({target:"Object",stat:!0,forced:!Tp,sham:!Pp},{create:function(t,e){return void 0===e?Bp(t):Ch(Bp(t),e)},defineProperty:Ih,defineProperties:Ch,getOwnPropertyDescriptor:Dh}),kp({target:"Object",stat:!0,forced:!Tp},{getOwnPropertyNames:Nh,getOwnPropertySymbols:Fh}),kp({target:"Object",stat:!0,forced:Mp((function(){Kp.f(1)}))},{getOwnPropertySymbols:function(t){return Kp.f(Fp(t))}}),wh){var Gh=!Tp||Mp((function(){var t=yh();return"[null]"!=wh([t])||"{}"!=wh({a:t})||"{}"!=wh(Object(t))}));kp({target:"JSON",stat:!0,forced:Gh},{stringify:function(t,e,r){var n=Zp(arguments),o=e;if((Cp(e)||void 0!==t)&&!Dp(t))return Rp(e)||(e=function(t,e){if(Ip(o)&&(e=Ap(o,this,t,e)),!Dp(e))return e}),n[1]=e,Op(wh,null,n)}})}if(!gh[ph]){var Vh=gh.valueOf;th(gh,ph,(function(t){return Ap(Vh,this)}))}uh(yh,lh),rh[fh]=!0,vp("asyncIterator"),vp("hasInstance"),vp("isConcatSpreadable"),vp("iterator"),vp("match"),vp("matchAll"),vp("replace"),vp("search"),vp("species"),vp("split"),vp("toPrimitive"),vp("toStringTag"),vp("unscopables"),Fa(y.JSON,"JSON",!0);var zh=at.Symbol;vp("asyncDispose"),vp("dispose"),vp("matcher"),vp("metadata"),vp("observable"),vp("patternMatch"),vp("replaceAll");var Wh=zh;!function(t){t.exports=Wh}(vl);var Bh={exports:{}},Qh=cp.f("iterator");!function(t){t.exports=Qh}(Bh),function(t){var e=vl.exports,r=Bh.exports;function n(o){return t.exports=n="function"==typeof e&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(hl);var Hh={exports:{}},qh={exports:{}},Kh=Cr,Yh=L,Jh=nr.f;Kh({target:"Object",stat:!0,forced:Object.defineProperty!==Jh,sham:!Yh},{defineProperty:Jh});var Xh=at.Object,$h=qh.exports=function(t,e,r){return Xh.defineProperty(t,e,r)};Xh.defineProperty.sham&&($h.sham=!0);var Zh=qh.exports;!function(t){t.exports=Zh}(Hh);var tv={exports:{}};Cr({target:"Object",stat:!0,sham:!L},{create:ho});var ev=at.Object,rv=function(t,e){return ev.create(t,e)};!function(t){t.exports=rv}(tv);var nv={exports:{}},ov=$t,iv=Yr,av=Gr;Cr({target:"Object",stat:!0,forced:g((function(){iv(1)})),sham:!av},{getPrototypeOf:function(t){return iv(ov(t))}});var uv=at.Object.getPrototypeOf;!function(t){t.exports=uv}(nv);var cv={exports:{}},sv=g,fv=function(t,e){var r=[][t];return!!r&&sv((function(){r.call(null,e||function(){throw 1},1)}))},lv=Sp.forEach,pv=fv("forEach")?[].forEach:function(t){return lv(this,t,arguments.length>1?arguments[1]:void 0)};Cr({target:"Array",proto:!0,forced:[].forEach!=pv},{forEach:pv});var hv=at,vv=function(t){return hv[t+"Prototype"]},dv=vv("Array").forEach,yv=Co,gv=ee,mv=pt,bv=dv,wv=Array.prototype,xv={DOMTokenList:!0,NodeList:!0},Sv=function(t){var e=t.forEach;return t===wv||mv(wv,t)&&e===wv.forEach||gv(xv,yv(t))?bv:e},kv=Sv;!function(t){t.exports=kv}(cv);var Ev={exports:{}};Cr({target:"Object",stat:!0},{setPrototypeOf:nn});var _v=at.Object.setPrototypeOf;!function(t){t.exports=_v}(Ev);var Ov={exports:{}},Av=fl,jv=is,Pv=hs;Cr({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=jv.f(this),r=Pv(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var Tv=Av;!function(t){t.exports=Tv}(Ov);var Mv={exports:{}},Lv=Cr,Rv=yl,Iv=P([].reverse),Cv=[1,2];Lv({target:"Array",proto:!0,forced:String(Cv)===String(Cv.reverse())},{reverse:function(){return Rv(this)&&(this.length=this.length),Iv(this)}});var Uv=vv("Array").reverse,Dv=pt,Nv=Uv,Fv=Array.prototype,Gv=function(t){var e=t.reverse;return t===Fv||Dv(Fv,t)&&e===Fv.reverse?Nv:e};!function(t){t.exports=Gv}(Mv);var Vv={exports:{}},zv=Cr,Wv=y,Bv=yl,Qv=qu,Hv=it,qv=pn,Kv=gn,Yv=nt,Jv=wl,Xv=ge,$v=ec,Zv=Ll("slice"),td=Xv("species"),ed=Wv.Array,rd=Math.max;zv({target:"Array",proto:!0,forced:!Zv},{slice:function(t,e){var r,n,o,i=Yv(this),a=Kv(i),u=qv(t,a),c=qv(void 0===e?a:e,a);if(Bv(i)&&(r=i.constructor,(Qv(r)&&(r===ed||Bv(r.prototype))||Hv(r)&&null===(r=r[td]))&&(r=void 0),r===ed||void 0===r))return $v(i,u,c);for(n=new(void 0===r?ed:r)(rd(c-u,0)),o=0;u<c;u++,o++)u in i&&Jv(n,o,i[u]);return n.length=o,n}});var nd=vv("Array").slice,od=pt,id=nd,ad=Array.prototype,ud=function(t){var e=t.slice;return t===ad||od(ad,t)&&e===ad.slice?id:e},cd=ud;!function(t){t.exports=cd}(Vv),function(t){var e=hl.exports.default,r=vl.exports,n=Hh.exports,o=tv.exports,i=nv.exports,a=cv.exports,u=Ev.exports,c=Ov.exports,s=Mv.exports,f=Vv.exports;function l(){t.exports=l=function(){return p},t.exports.__esModule=!0,t.exports.default=t.exports;var p={},h=Object.prototype,v=h.hasOwnProperty,d="function"==typeof r?r:{},y=d.iterator||"@@iterator",g=d.asyncIterator||"@@asyncIterator",m=d.toStringTag||"@@toStringTag";function b(t,e,r){return n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(t){b=function(t,e,r){return t[e]=r}}function w(t,e,r,n){var i=e&&e.prototype instanceof k?e:k,a=o(i.prototype),u=new I(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return U()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=M(a,r);if(u){if(u===S)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=x(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===S)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,u),a}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}p.wrap=w;var S={};function k(){}function E(){}function _(){}var O={};b(O,y,(function(){return this}));var A=i&&i(i(C([])));A&&A!==h&&v.call(A,y)&&(O=A);var j=_.prototype=k.prototype=o(O);function P(t){var e;a(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,r){function n(o,i,a,u){var c=x(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==e(f)&&v.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):r.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function M(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,M(t,e),"throw"===e.method))return S;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var n=x(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,S;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,S):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],a(t).call(t,L,this),this.reset(!0)}function C(t){if(t){var e=t[y];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(v.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:void 0,done:!0}}return E.prototype=_,b(j,"constructor",_),b(_,"constructor",E),E.displayName=b(_,m,"GeneratorFunction"),p.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},p.mark=function(t){return u?u(t,_):(t.__proto__=_,b(t,m,"GeneratorFunction")),t.prototype=o(j),t},p.awrap=function(t){return{__await:t}},P(T.prototype),b(T.prototype,g,(function(){return this})),p.AsyncIterator=T,p.async=function(t,e,r,n,o){void 0===o&&(o=c);var i=new T(w(t,e,r,n),o);return p.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(j),b(j,m,"Generator"),b(j,y,(function(){return this})),b(j,"toString",(function(){return"[object Generator]"})),p.keys=function(t){var e=[];for(var r in t)e.push(r);return s(e).call(e),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},p.values=C,I.prototype={constructor:I,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,a(e=this.tryEntries).call(e,R),!t)for(var r in this)"t"===r.charAt(0)&&v.call(this,r)&&!isNaN(+f(r).call(r,1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=v.call(o,"catchLoc"),u=v.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),S}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),S}},p}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports}(pl);var sd=pl.exports(),fd=sd;try{regeneratorRuntime=sd}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=sd:Function("r","regeneratorRuntime = r")(sd)}var ld={exports:{}},pd=Sp.filter;Cr({target:"Array",proto:!0,forced:!Ll("filter")},{filter:function(t){return pd(this,t,arguments.length>1?arguments[1]:void 0)}});var hd=vv("Array").filter,vd=pt,dd=hd,yd=Array.prototype,gd=function(t){var e=t.filter;return t===yd||vd(yd,t)&&e===yd.filter?dd:e};!function(t){t.exports=gd}(ld);var md=h(ld.exports),bd={exports:{}};!function(t){t.exports=Sv}(bd);var wd=h(bd.exports),xd={exports:{}},Sd=Cr,kd=Sp.find,Ed="find",_d=!0;Ed in[]&&Array(1).find((function(){_d=!1})),Sd({target:"Array",proto:!0,forced:_d},{find:function(t){return kd(this,t,arguments.length>1?arguments[1]:void 0)}});var Od=vv("Array").find,Ad=pt,jd=Od,Pd=Array.prototype,Td=function(t){var e=t.find;return t===Pd||Ad(Pd,t)&&e===Pd.find?jd:e};!function(t){t.exports=Td}(xd);var Md=h(xd.exports),Ld={exports:{}},Rd=Cr,Id=y,Cd=k,Ud=T,Dd=ec,Nd=nc,Fd=/MSIE .\./.test(ht),Gd=Id.Function,Vd=function(t){return function(e,r){var n=Nd(arguments.length,1)>2,o=Ud(e)?e:Gd(e),i=n?Dd(arguments,2):void 0;return t(n?function(){Cd(o,this,i)}:o,r)}};Rd({global:!0,bind:!0,forced:Fd},{setTimeout:Vd(Id.setTimeout),setInterval:Vd(Id.setInterval)});var zd=at.setInterval;!function(t){t.exports=zd}(Ld);var Wd=h(Ld.exports),Bd={exports:{}};!function(t){t.exports=ud}(Bd);var Qd=h(Bd.exports),Hd={exports:{}},qd=vv("Array").concat,Kd=pt,Yd=qd,Jd=Array.prototype,Xd=function(t){var e=t.concat;return t===Jd||Kd(Jd,t)&&e===Jd.concat?Yd:e};!function(t){t.exports=Xd}(Hd);var $d=h(Hd.exports),Zd={exports:{}},ty=at.setTimeout;!function(t){t.exports=ty}(Zd);var ey=h(Zd.exports),ry=new Uint8Array([88,0,0,0]),ny=new Uint8Array([26,165,74,6,73,7,72,8,71,9,70,10,69,11,68,12,67,13,66,14,65]),oy=new Uint8Array([24,255,1,0,0,0,0,0,0,0,0,0,0,0,0]),iy=new Uint8Array([25,255,0,255,255,255,255]),ay=new Uint8Array([27,255,0,0,0,0,0,0,0,0,0]),uy={HEADER:ry,INIT:ny,DISCONNECT:new Uint8Array([84]),START_MEASUREMENTS:oy,STOP_MEASUREMENTS:iy,SET_MEASUREMENT_PERIOD:ay,GET_INFO:new Uint8Array([85]),GET_STATUS:new Uint8Array([16]),GET_SENSOR_IDS:new Uint8Array([81]),GET_SENSOR_INFO:new Uint8Array([80,0]),GET_DEFAULT_SENSORS_MASK:new Uint8Array([86])},cy=6,sy=7,fy=10,ly=8,py=9,hy=11,vy=12,dy=13,yy=14,gy=32,my={exports:{}},by={exports:{}},wy=g((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),xy=g,Sy=it,ky=H,Ey=wy,_y=Object.isExtensible,Oy=xy((function(){_y(1)}))||Ey?function(t){return!!Sy(t)&&((!Ey||"ArrayBuffer"!=ky(t))&&(!_y||_y(t)))}:_y,Ay=!g((function(){return Object.isExtensible(Object.preventExtensions({}))})),jy=Cr,Py=P,Ty=kn,My=it,Ly=ee,Ry=nr.f,Iy=on,Cy=Xl,Uy=Oy,Dy=Ay,Ny=!1,Fy=ae("meta"),Gy=0,Vy=function(t){Ry(t,Fy,{value:{objectID:"O"+Gy++,weakData:{}}})},zy=by.exports={enable:function(){zy.enable=function(){},Ny=!0;var t=Iy.f,e=Py([].splice),r={};r[Fy]=1,t(r).length&&(Iy.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===Fy){e(n,o,1);break}return n},jy({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Cy.f}))},fastKey:function(t,e){if(!My(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Ly(t,Fy)){if(!Uy(t))return"F";if(!e)return"E";Vy(t)}return t[Fy].objectID},getWeakData:function(t,e){if(!Ly(t,Fy)){if(!Uy(t))return!0;if(!e)return!1;Vy(t)}return t[Fy].weakData},onFreeze:function(t){return Dy&&Ny&&Uy(t)&&!Ly(t,Fy)&&Vy(t),t}};Ty[Fy]=!0;var Wy=Cr,By=y,Qy=by.exports,Hy=g,qy=kr,Ky=li,Yy=Eu,Jy=T,Xy=it,$y=Fa,Zy=nr.f,tg=Sp.forEach,eg=L,rg=ha.set,ng=ha.getterFor,og=nr.f,ig=ho,ag=yu,ug=rr,cg=Eu,sg=li,fg=au,lg=xu,pg=L,hg=by.exports.fastKey,vg=ha.set,dg=ha.getterFor,yg={getConstructor:function(t,e,r,n){var o=t((function(t,o){cg(t,i),vg(t,{type:e,index:ig(null),first:void 0,last:void 0,size:0}),pg||(t.size=0),null!=o&&sg(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=dg(e),u=function(t,e,r){var n,o,i=a(t),u=c(t,e);return u?u.value=r:(i.last=u={index:o=hg(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=u),n&&(n.next=u),pg?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},c=function(t,e){var r,n=a(t),o=hg(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return ag(i,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,pg?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=c(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),pg?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=ug(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),ag(i,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),pg&&og(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=dg(e),i=dg(n);fg(t,e,(function(t,e){vg(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),lg(e)}},gg=function(t,e,r){var n,o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),a=o?"set":"add",u=By[t],c=u&&u.prototype,s={};if(eg&&Jy(u)&&(i||c.forEach&&!Hy((function(){(new u).entries().next()})))){var f=(n=e((function(e,r){rg(Yy(e,f),{type:t,collection:new u}),null!=r&&Ky(r,e[a],{that:e,AS_ENTRIES:o})}))).prototype,l=ng(t);tg(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in c)||i&&"clear"==t||qy(f,t,(function(r,n){var o=l(this).collection;if(!e&&i&&!Xy(r))return"get"==t&&void 0;var a=o[t](0===r?0:r,n);return e?this:a}))})),i||Zy(f,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else n=r.getConstructor(e,t,o,a),Qy.enable();return $y(n,t,!1,!0),s[t]=n,Wy({global:!0,forced:!0},s),i||r.setStrong(n,t,o),n};gg("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),yg);var mg=at.Map;!function(t){t.exports=mg}(my);var bg=h(my.exports),wg={exports:{}},xg=Ut,Sg=$t,kg=$,Eg=gn,_g=y.TypeError,Og=function(t){return function(e,r,n,o){xg(r);var i=Sg(e),a=kg(i),u=Eg(i),c=t?u-1:0,s=t?-1:1;if(n<2)for(;;){if(c in a){o=a[c],c+=s;break}if(c+=s,t?c<0:u<=c)throw _g("Reduce of empty array with no initial value")}for(;t?c>=0:u>c;c+=s)c in a&&(o=r(o,a[c],c,i));return o}},Ag={left:Og(!1),right:Og(!0)}.left,jg=wt,Pg=ic;Cr({target:"Array",proto:!0,forced:!fv("reduce")||!Pg&&jg>79&&jg<83},{reduce:function(t){var e=arguments.length;return Ag(this,t,e,e>1?arguments[1]:void 0)}});var Tg=vv("Array").reduce,Mg=pt,Lg=Tg,Rg=Array.prototype,Ig=function(t){var e=t.reduce;return t===Rg||Mg(Rg,t)&&e===Rg.reduce?Lg:e};!function(t){t.exports=Ig}(wg);var Cg=h(wg.exports),Ug={exports:{}},Dg=Cr,Ng=y,Fg=pn,Gg=cn,Vg=gn,zg=$t,Wg=jl,Bg=wl,Qg=Ll("splice"),Hg=Ng.TypeError,qg=Math.max,Kg=Math.min,Yg=9007199254740991,Jg="Maximum allowed length exceeded";Dg({target:"Array",proto:!0,forced:!Qg},{splice:function(t,e){var r,n,o,i,a,u,c=zg(this),s=Vg(c),f=Fg(t,s),l=arguments.length;if(0===l?r=n=0:1===l?(r=0,n=s-f):(r=l-2,n=Kg(qg(Gg(e),0),s-f)),s+r-n>Yg)throw Hg(Jg);for(o=Wg(c,n),i=0;i<n;i++)(a=f+i)in c&&Bg(o,i,c[a]);if(o.length=n,r<n){for(i=f;i<s-n;i++)u=i+r,(a=i+n)in c?c[u]=c[a]:delete c[u];for(i=s;i>s-n+r;i--)delete c[i-1]}else if(r>n)for(i=s-n;i>f;i--)u=i+r-1,(a=i+n-1)in c?c[u]=c[a]:delete c[u];for(i=0;i<r;i++)c[i+f]=arguments[i+2];return c.length=s-n+r,o}});var Xg=vv("Array").splice,$g=pt,Zg=Xg,tm=Array.prototype,em=function(t){var e=t.splice;return t===tm||$g(tm,t)&&e===tm.splice?Zg:e};!function(t){t.exports=em}(Ug);var rm=h(Ug.exports),nm=P,om=Ut,im=it,am=ee,um=ec,cm=m,sm=y.Function,fm=nm([].concat),lm=nm([].join),pm={},hm=function(t,e,r){if(!am(pm,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";pm[e]=sm("C,a","return new C("+lm(n,",")+")")}return pm[e](t,r)},vm=cm?sm.bind:function(t){var e=om(this),r=e.prototype,n=um(arguments,1),o=function(){var r=fm(n,um(arguments));return this instanceof o?hm(e,r.length,r):e.apply(t,r)};return im(r)&&(o.prototype=r),o},dm=vm;Cr({target:"Function",proto:!0,forced:Function.bind!==dm},{bind:dm});var ym=vv("Function").bind,gm=pt,mm=ym,bm=Function.prototype,wm=function(t){var e=t.bind;return t===bm||gm(bm,t)&&e===bm.bind?mm:e};!function(t){t.exports=wm}({exports:{}});var xm={exports:{}},Sm=Sp.map;Cr({target:"Array",proto:!0,forced:!Ll("map")},{map:function(t){return Sm(this,t,arguments.length>1?arguments[1]:void 0)}});var km=vv("Array").map,Em=pt,_m=km,Om=Array.prototype,Am=function(t){var e=t.map;return t===Om||Em(Om,t)&&e===Om.map?_m:e};!function(t){t.exports=Am}(xm);var jm=h(xm.exports),Pm={exports:{}},Tm=sr,Mm=Xo,Lm=rr,Rm=C,Im=$t,Cm=function(t,e,r,n){try{return n?e(Tm(r)[0],r[1]):e(r)}catch(e){Mm(t,"throw",e)}},Um=_o,Dm=qu,Nm=gn,Fm=wl,Gm=qo,Vm=Go,zm=y.Array,Wm=function(t){var e=Im(t),r=Dm(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Lm(o,n>2?arguments[2]:void 0));var a,u,c,s,f,l,p=Vm(e),h=0;if(!p||this==zm&&Um(p))for(a=Nm(e),u=r?new this(a):zm(a);a>h;h++)l=i?o(e[h],h):e[h],Fm(u,h,l);else for(f=(s=Gm(e,p)).next,u=r?new this:[];!(c=Rm(f,s)).done;h++)l=i?Cm(s,o,[c.value,h],!0):c.value,Fm(u,h,l);return u.length=h,u};Cr({target:"Array",stat:!0,forced:!Pu((function(t){Array.from(t)}))},{from:Wm});var Bm=at.Array.from;!function(t){t.exports=Bm}(Pm);var Qm=h(Pm.exports),Hm={exports:{}},qm=cn,Km=vi,Ym=tt,Jm=y.RangeError,Xm=P,$m=dn,Zm=vi,tb=tt,eb=Xm((function(t){var e=Km(Ym(this)),r="",n=qm(t);if(n<0||n==1/0)throw Jm("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r})),rb=Xm("".slice),nb=Math.ceil,ob=function(t){return function(e,r,n){var o,i,a=Zm(tb(e)),u=$m(r),c=a.length,s=void 0===n?" ":Zm(n);return u<=c||""==s?a:((i=eb(s,nb((o=u-c)/s.length))).length>o&&(i=rb(i,0,o)),t?a+i:i+a)}},ib={start:ob(!1),end:ob(!0)},ab=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(ht),ub=ib.start;Cr({target:"String",proto:!0,forced:ab},{padStart:function(t){return ub(this,t,arguments.length>1?arguments[1]:void 0)}});var cb=vv("String").padStart,sb=pt,fb=cb,lb=String.prototype,pb=function(t){var e=t.padStart;return"string"==typeof t||t===lb||sb(lb,t)&&e===lb.padStart?fb:e};!function(t){t.exports=pb}(Hm);var hb=h(Hm.exports),vb=function(t){return 0!==t},db=function(){function t(){r(this,t),this._listenerMap=new bg}return o(t,[{key:"on",value:function(t,e){this._listenerMap.has(t)||this._listenerMap.set(t,[]),this._listenerMap.get(t).push(e)}},{key:"off",value:function(t,e){var r=this._listenerMap.get(t);if(r&&r.length){var n=Cg(r).call(r,(function(t,r,n){return"function"==typeof r&&r===e?t=n:t}),-1);if(n>-1)return rm(r).call(r,n,1),this._listenerMap.set(t,r),!0}return!1}},{key:"unbind",value:function(){this._listenerMap.clear()}},{key:"emit",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=this._listenerMap.get(t);return!(!o||!o.length)&&(wd(o).call(o,(function(t){t.apply(void 0,r)})),!0)}}]),t}(),yb=function(){},gb=function(){};function mb(t){var e;return jm(e=Qm(new Uint8Array(t))).call(e,(function(t){var e;return hb(e=t.toString(16)).call(e,2,"0")})).join(" ")}var bb={exports:{}},wb=vv("Array").values,xb=Co,Sb=ee,kb=pt,Eb=wb,_b=Array.prototype,Ob={DOMTokenList:!0,NodeList:!0},Ab=function(t){var e=t.values;return t===_b||kb(_b,t)&&e===_b.values||Sb(Ob,xb(t))?Eb:e};!function(t){t.exports=Ab}(bb);var jb,Pb=h(bb.exports),Tb=o((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.type=e.type,this.mode=e.mode,this.minValue=e.minValue,this.maxValue=e.maxValue,this.uncertainty=e.uncertainty,this.minPeriod=e.minPeriod,this.maxPeriod=e.maxPeriod,this.typicalPeriod=e.typicalPeriod,this.granularity=e.granularity})),Mb=o((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.number=e.number,this.name=e.name,this.unit=e.unit,this.id=e.id,this.mutalExclusionMask=e.mutalExclusionMask,this.measurementInfo=e.measurementInfo})),Lb=function(t){i(n,t);var e=s(n);function n(t){var o;return r(this,n),(o=e.call(this)).number=t.number,o.name=t.name,o.unit=t.unit,o.specs=t,o.enabled=!1,o.values=[],o.value=null,o}return o(n,[{key:"clear",value:function(){this.value=null,this.values=[]}},{key:"setValue",value:function(t,e){this.value=t,e&&Pb(this).push(this.value),this.emit("value-changed",this)}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.emit("state-changed",this))}}]),n}(db),Rb=function(t){i(m,t);var n,a,u,c,f,l,p,h,v,d,y,g=s(m);function m(t){var e;if(r(this,m),e=g.call(this),"undefined"==typeof TextDecoder){var n=require("text-encoding");jb=n.TextDecoder}else jb=TextDecoder;return e.device=t,e.sensors=[],e.opened=!1,e.rollingCounter=0,e.collecting=!1,e.measurementPeriod=10,e.response=null,e.remainingResponseLength=0,e.defaultSensorsMask=0,e.keepValues=!0,e.minMeasurementPeriod=10,e.serialNumber="",e.orderCode="",e.name="",e}return o(m,[{key:"getBatteryLevel",value:(y=e(fd.mark((function t(){var e;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getStatus();case 2:return e=t.sent,t.abrupt("return",e.battery);case 4:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"getChargingState",value:(d=e(fd.mark((function t(){var e;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getStatus();case 2:return e=t.sent,t.abrupt("return",e.chargingStatus);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"open",value:(v=e(fd.mark((function t(){var e,r=arguments;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]&&r[0],!this.opened){t.next=3;break}throw new Error("Device cannot be opened because it is already open");case 3:return t.next=5,this._connect();case 5:return t.next=7,this._init();case 7:return t.next=9,this._getStatus();case 9:return t.next=11,this._getDeviceInfo();case 11:return t.next=13,this._getDefaultSensorsMask();case 13:return t.next=15,this._getAvailableSensors();case 15:this._onOpened(),e&&this.start();case 17:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"close",value:(h=e(fd.mark((function t(){return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.opened){t.next=2;break}throw new Error("Device cannot be closed because it is not open");case 2:return t.next=4,this._stopMeasurements();case 4:return t.next=6,this._sendCommand(uy.DISCONNECT);case 6:return t.abrupt("return",this._disconnect());case 7:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"enableDefaultSensors",value:function(){for(var t=1,e=0;e<32;++e){if((this.defaultSensorsMask&t)===t){var r=this.getSensor(e);r&&r.setEnabled(!0)}t<<=1}}},{key:"start",value:function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=md(t=this.sensors).call(t,(function(t){return t.enabled}));0===n.length&&(this.enableDefaultSensors(),n=md(e=this.sensors).call(e,(function(t){return t.enabled})));wd(n).call(n,(function(t){return t.clear()})),r&&(this.measurementPeriod=r),this._startMeasurements()}},{key:"stop",value:function(){this._stopMeasurements()}},{key:"getSensor",value:function(t){var e;return Md(e=this.sensors).call(e,(function(e){return e.number===t}))}},{key:"_connect",value:(p=e(fd.mark((function t(){var e=this;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.device.setup({onClosed:function(){return e._onClosed()},onResponse:function(t){return e._handleResponse(t)}}).then((function(){e.writeQueue=[],e.deviceWriteInterval=Wd((function(){if(e.writeQueue&&e.writeQueue.length>0){var t=e.writeQueue[0];t.written||(e._writeToDevice(t.buffer),t.written=!0)}}),10)})));case 1:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"_disconnect",value:(l=e(fd.mark((function t(){return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearInterval(this.deviceWriteInterval),t.abrupt("return",this.device.close());case 2:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"_init",value:function(){return this.collecting=!1,this.rollingCounter=255,this._sendCommand(uy.INIT)}},{key:"_handleResponse",value:function(t){var e,r,n,o;if(yb("command notified: ".concat(mb(t.buffer))),this.remainingResponseLegnth>0){if(this.remainingResponseLegnth-=t.buffer.byteLength,this.response=new DataView((r=this.response.buffer,n=Qd(e=t.buffer).call(e,0),(o=new Uint8Array(r.byteLength+n.byteLength)).set(new Uint8Array(r),0),o.set(new Uint8Array(n),r.byteLength),o.buffer)),this.remainingResponseLegnth>0)return}else this.response=t;var i=this.response.getUint8(1);if(i>this.response.buffer.byteLength)this.remainingResponseLegnth=i-this.response.buffer.byteLength;else if(yb("handle command: ".concat(mb(this.response.buffer))),this.response.getUint8(0)===gy)this._processMeasurements(this.response);else{var a=this.response.getUint8(4),u=this.response.getUint8(5),c=new DataView(this.response.buffer,6);this._resolveWriteCommand(a,u,c),this.remainingResponseLegnth=0,this.response=null}}},{key:"_getSensorsWithMask",value:function(t){for(var e=[],r=1,n=0;n<32;++n){if((t&r)===r){var o,i=this.getSensor(n);if(i)e.push(i),yb($d(o="available: [".concat(t,"] ")).call(o,e[e.length-1].number))}r<<=1}return e}},{key:"_processMeasurements",value:function(t){var e=[],r=!0,n=0,o=0,i=t.getUint8(4);switch(i){case cy:e=this._getSensorsWithMask(t.getUint16(5,!0)),n=t.getUint8(7,!0),o=9;break;case sy:e=this._getSensorsWithMask(t.getUint32(5,!0)),n=t.getUint8(9,!0),o=11;break;case fy:case ly:e[0]=this.getSensor(t.getUint8(6)),n=t.getUint8(7,!0),o=8;break;case hy:case py:e[0]=this.getSensor(t.getUint8(6)),n=t.getUint8(7,!0),o=8,r=!1;break;case vy:case dy:case yy:yb("Purposely Ignoring packet type: ".concat(i));break;default:yb("Unknown packet type: ".concat(i))}for(var a=0;a<n;++a)for(var u=0;u<e.length;++u)r?e[u].setValue(t.getFloat32(o,!0),this.keepValues):e[u].setValue(t.getInt32(o,!0),this.keepValues),o+=4}},{key:"_resolveWriteCommand",value:function(t,e,r){var n,o,i=Md(n=this.writeQueue).call(n,(function(r){return r.command===t&&r.rollingCounter===e}));i&&(i.resolve(r),this.writeQueue=md(o=this.writeQueue).call(o,(function(t){return t!==i})))}},{key:"_onOpened",value:function(){yb("opened"),this.opened=!0,this.emit("device-opened")}},{key:"_onClosed",value:function(){yb("closed"),this.opened=!1,this.emit("device-closed")}},{key:"_decRollingCounter",value:function(){return this.rollingCounter-=1,this.rollingCounter}},{key:"_calculateChecksum",value:function(t){for(var e=t[1],r=-1*t[3],n=0;n<e;++n)r+=t[n],r&=255;return r<0||r>255?(yb("Checksum failed!"),0):r}},{key:"_sendCommand",value:function(t){var e=new Uint8Array(uy.HEADER.byteLength+t.byteLength);return e.set(new Uint8Array(uy.HEADER),0),e.set(new Uint8Array(t),uy.HEADER.byteLength),e[1]=e.length,e[2]=this._decRollingCounter(),e[3]=this._calculateChecksum(e),this._queueWriteCommand(e)}},{key:"_writeToDevice",value:(f=e(fd.mark((function t(e){var r,n,o;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,o=e.length;case 2:if(!(o>0)){t.next=14;break}return t.prev=3,o>this.device.maxPacketLength?(r=e.subarray(n,n+this.device.maxPacketLength),o-=this.device.maxPacketLength,n+=this.device.maxPacketLength):(r=e.subarray(n,n+o),o=0),t.next=7,this.device.writeCommand(r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),yb("Write Failure: ".concat(t.t0));case 12:t.next=2;break;case 14:case"end":return t.stop()}}),t,this,[[3,9]])}))),function(t){return f.apply(this,arguments)})},{key:"_queueWriteCommand",value:function(t){var e=this;return yb("command queued: ".concat(mb(t))),new ll((function(r,n){e.writeQueue.push({command:t[4],rollingCounter:t[2],buffer:t,written:!1,resolve:r,reject:n}),ey((function(){var r,o;e.writeQueue=md(r=e.writeQueue).call(r,(function(e){return e.command===t[4]&&e.rollingCounter!==t[2]})),n(new Error($d(o="write command timed out after 5s. Command: ".concat(t[4].toString(16)," Rolling Counter: ")).call(o,t[2].toString(16))))}),5e3)}))}},{key:"_getStatus",value:(c=e(fd.mark((function t(){var e,r,n,o;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendCommand(uy.GET_STATUS);case 2:return n=t.sent,o={mainFirmwareVersion:$d(e="".concat(n.getUint8(2),".")).call(e,n.getUint8(3)),bleFirmwareVersion:$d(r="".concat(n.getUint8(6),".")).call(r,n.getUint8(9)),battery:n.getUint8(10),chargingStatus:"".concat(n.getUint8(11))},t.abrupt("return",o);case 5:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"_getAvailableSensors",value:(u=e(fd.mark((function t(){var e,r,n=this;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._sendCommand(uy.GET_SENSOR_IDS).then((function(t){n.availableSensors=t.getUint32(0,!0),yb("Get Available Sensors Returned ".concat(n.availableSensors))}));case 2:e=1,r=0;case 4:if(!(r<31)){t.next=12;break}if((this.availableSensors&e)!==e){t.next=8;break}return t.next=8,this._getSensorInfo(r);case 8:e<<=1;case 9:++r,t.next=4;break;case 12:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"_getDefaultSensorsMask",value:function(){var t=this;return this._sendCommand(uy.GET_DEFAULT_SENSORS_MASK).then((function(e){t.defaultSensorsMask=e.getUint32(0,!0),yb("Default Sensors:"),gb(t)}))}},{key:"_getDeviceInfo",value:function(){var t=this;return this._sendCommand(uy.GET_INFO).then((function(e){var r,n,o,i=new jb("utf-8");t.orderCode=i.decode(md(r=new Uint8Array(e.buffer,6,16)).call(r,vb)),t.serialNumber=i.decode(md(n=new Uint8Array(e.buffer,22,16)).call(n,vb)),t.name=i.decode(md(o=new Uint8Array(e.buffer,38,32)).call(o,vb)),yb("Device Info:"),gb(t)}))}},{key:"_getSensorInfo",value:(a=e(fd.mark((function t(e){var r,n=this;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Uint8Array(uy.GET_SENSOR_INFO))[1]=e,t.abrupt("return",this._sendCommand(r).then((function(t){var e=t.getUint32(2,!0);if(e>0){var r,o,i=new jb("utf-8"),a=new Tb({type:t.getUint8(6),mode:t.getUint8(7),minValue:t.getFloat64(108,!0),maxValue:t.getFloat64(116,!0),uncertainty:t.getFloat64(100,!0),minPeriod:t.getUint32(124,!0)/1e3,maxPeriod:((t.getUint32(132,!0)<<32)+t.getUint32(128,!0))/1e3,typicalPeriod:t.getUint32(136,!0)/1e3,granularity:t.getUint32(140,!0)/1e3}),u=new Mb({number:t.getUint8(0),name:i.decode(md(r=new Uint8Array(t.buffer,14,60)).call(r,vb)),unit:i.decode(md(o=new Uint8Array(t.buffer,74,32)).call(o,vb)),mutalExclusionMask:t.getUint32(144,!0),measurementInfo:a,sensorId:e}),c=new Lb(u);yb("Get Sensor Info Returned"),gb(c),n.sensors.push(c),c.on("state-changed",(function(){var t;yb("Sensor Restart: ".concat(c.number)),c.enabled&&(n.measurementPeriod=c.specs.measurementInfo.typicalPeriod,wd(t=n.sensors).call(t,(function(t){if(c.number!==t.number&&t.enabled){var e=1<<t.number;(e&c.specs.mutalExclusionMask)===e?t.enabled=!1:t.specs.measurementInfo.typicalPeriod>n.measurementPeriod&&(n.measurementPeriod=t.specs.measurementInfo.typicalPeriod)}}))),n._restartMeasurements()}))}})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"_restartMeasurements",value:(n=e(fd.mark((function t(){var e;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.collecting,!this.collecting){t.next=10;break}return t.prev=2,t.next=5,this._stopMeasurements();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error(t.t0);case 10:if(this.collecting||!e){t.next=19;break}return t.prev=11,t.next=14,this._startMeasurements();case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(11),console.error(t.t1);case 19:case"end":return t.stop()}}),t,this,[[2,7],[11,16]])}))),function(){return n.apply(this,arguments)})},{key:"_setMeasurementPeriod",value:function(t){var e=new Uint8Array(uy.SET_MEASUREMENT_PERIOD),r=1e3*this.minMeasurementPeriod;return t<r&&(t=r),yb("MeasurementPeriod: ".concat(t)),e[3]=t>>0&255,e[4]=t>>8&255,e[5]=t>>16&255,e[6]=t>>24&255,this._sendCommand(e)}},{key:"_getEnabledChannelMask",value:function(){var t,e=0,r=md(t=this.sensors).call(t,(function(t){return t.enabled}));return wd(r).call(r,(function(t){e+=1<<t.number})),e}},{key:"_startMeasurements",value:function(){var t=this;return this._setMeasurementPeriod(1e3*this.measurementPeriod).then((function(){var e=t._getEnabledChannelMask();yb("ChannelMask: ".concat(e));var r=new Uint8Array(uy.START_MEASUREMENTS);return r[3]=e>>0&255,r[4]=e>>8&255,r[5]=e>>16&255,r[6]=e>>24&255,t._sendCommand(r).then((function(e){0===e.getUint8(0)&&(t.collecting=!0,t.emit("measurements-started"))}))}))}},{key:"_stopMeasurements",value:function(){var t=this;return this._sendCommand(uy.STOP_MEASUREMENTS).then((function(e){0===e.getUint8(0)&&(t.collecting=!1,t.emit("measurements-stopped"))}))}}]),m}(db),Ib=function(){function t(e){r(this,t),this.webBluetoothNativeDevice=e,this.maxPacketLength=20,this.deviceCommand=null,this.deviceResponse=null}var n,i,a;return o(t,[{key:"godirectAdapter",get:function(){return!0}},{key:"writeCommand",value:(a=e(fd.mark((function t(e){return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.deviceCommand.writeValue(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setup",value:(i=e(fd.mark((function t(e){var r,n,o,i,a,u=this;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onClosed,n=e.onResponse,this.webBluetoothNativeDevice.addEventListener("gattserverdisconnected",r),t.prev=2,t.next=5,this.webBluetoothNativeDevice.gatt.connect();case 5:return o=t.sent,t.next=8,o.getPrimaryService("d91714ef-28b9-4f91-ba16-f0d9a604f112");case 8:return i=t.sent,t.next=11,i.getCharacteristics();case 11:a=t.sent,wd(a).call(a,(function(t){switch(t.uuid){case"f4bf14a6-c7d5-4b6d-8aa8-df1a7c83adcb":u.deviceCommand=t;break;case"b41e6675-a329-40e0-aa01-44d2f444babe":u.deviceResponse=t,u.deviceResponse.addEventListener("characteristicvaluechanged",(function(t){var e=t.target.value;n(e)})),u.deviceResponse.startNotifications();break;default:yb("No case found for ".concat(t.uuid))}})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.error(t.t0);case 18:if(this.deviceCommand&&this.deviceResponse){t.next=20;break}throw new Error("Expected command and response characteristics not found");case 20:case"end":return t.stop()}}),t,this,[[2,15]])}))),function(t){return i.apply(this,arguments)})},{key:"close",value:(n=e(fd.mark((function t(){return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.webBluetoothNativeDevice.gatt.disconnect());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),Cb=function(){function t(e){r(this,t),this.webUsbNativeDevice=e,this.onResponse=null,this.onClosed=null,this.reportId=0,this.maxPacketLength=63}var n,i,a;return o(t,[{key:"godirectAdapter",get:function(){return!0}},{key:"writeCommand",value:(a=e(fd.mark((function t(e){var r,n;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Uint8Array($d(r=[e.byteLength]).call(r,f(e))),t.abrupt("return",this.webUsbNativeDevice.sendReport(this.reportId,n));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"setup",value:(i=e(fd.mark((function t(e){var r,n,o=this;return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.onClosed,n=e.onResponse,t.next=3,this.webUsbNativeDevice.open();case 3:this.onResponse=n,this.onClosed=r,this.reportId=this.webUsbNativeDevice.collections[0].outputReports[0].reportId,this.webUsbNativeDevice.oninputreport=function(t){var e,r=new DataView(Qd(e=t.data.buffer).call(e,1));o.onResponse(r)};case 7:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"close",value:(n=e(fd.mark((function t(){return fd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.webUsbNativeDevice.close(),this.onClosed();case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),t}(),Ub={createDevice:function(t){var r=arguments;return e(fd.mark((function e(){var n,o,i,a,u,c,s;return fd.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},o=n.open,i=void 0===o||o,a=n.startMeasurements,u=void 0===a||a,(c=t).godirectAdapter){e.next=12;break}if(!t.gatt){e.next=7;break}c=new Ib(t),e.next=12;break;case 7:if(!t.collections[0].outputReports[0]){e.next=11;break}c=new Cb(t),e.next=12;break;case 11:throw new Error("Device Open Failed [ No matching adapter ]");case 12:if(s=new Rb(c),!i){e.next=23;break}return e.prev=14,e.next=17,s.open(u);case 17:e.next=23;break;case 19:throw e.prev=19,e.t0=e.catch(14),console.error(e.t0),new Error("Device Open Failed [".concat(e.t0,"]"));case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[14,19]])})))()},selectDevice:function(){var t=arguments;return e(fd.mark((function e(){var r,n;return fd.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(t.length>0&&void 0!==t[0])||t[0])){e.next=9;break}if(navigator.bluetooth){e.next=4;break}return e.abrupt("return",ll.reject(new Error("No Web Bluetooth support.")));case 4:return e.next=6,navigator.bluetooth.requestDevice({filters:[{namePrefix:"GDX"}],optionalServices:["d91714ef-28b9-4f91-ba16-f0d9a604f112"]});case 6:r=e.sent,e.next=15;break;case 9:if(navigator.hid){e.next=11;break}return e.abrupt("return",ll.reject(new Error("No Web HID support.")));case 11:return e.next=13,navigator.hid.requestDevice({filters:[{vendorId:2295,productId:16}]});case 13:n=e.sent,r=n[0];case 15:if(r){e.next=17;break}throw new DOMException("No device selected.");case 17:return e.abrupt("return",Ub.createDevice(r));case 18:case"end":return e.stop()}}),e)})))()}};return Ub}));
